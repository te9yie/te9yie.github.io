<!DOCTYPE html><html><head><title>2021-02-28 | te9yie</title><meta charSet="utf-8"/><meta name="viewport" content="initial-scale=1.0, width=device-width"/><meta name="google-site-verification" content="iMWdKZ02K2Yzj9AtOP4cl-40F5DJp-YJLQDzv9vQgMk"/><meta name="next-head-count" content="4"/><link rel="preload" href="/_next/static/css/b9d5dc7910600465cf92.css" as="style"/><link rel="stylesheet" href="/_next/static/css/b9d5dc7910600465cf92.css" data-n-g=""/><noscript data-n-css=""></noscript><link rel="preload" href="/_next/static/chunks/main-1f0b73d383aed819e4f2.js" as="script"/><link rel="preload" href="/_next/static/chunks/webpack-50bee04d1dc61f8adf5b.js" as="script"/><link rel="preload" href="/_next/static/chunks/framework.29f9e2f3d4a33bafbaa5.js" as="script"/><link rel="preload" href="/_next/static/chunks/commons.3a16fc34825ffc7ba561.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/_app-ade6e51b5c04250850ce.js" as="script"/><link rel="preload" href="/_next/static/chunks/7ac61503aba6d10b58e3c266d97d99b7b5b3721a.c1b518faff21babf1a9f.js" as="script"/><link rel="preload" href="/_next/static/chunks/00cbe0eb025af1da8768e6eebd5e28fe8100b658.d21267665854b47491ea.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/b/%5Bid%5D-eaf8ebe7ceed852553b5.js" as="script"/></head><body><div id="__next"><header><nav><ul><li><a id="site-name" href="/"><h1>te9yie</h1></a></li><li><a href="/b">Blog</a></li><li><a href="/w">Wiki</a></li><li><a href="/search">Search</a></li></ul></nav><h2>2021-02-28</h2></header><article><p>ブログ形式でなく、ちょっとしたことを書いておくページが欲しいなと思い、Wiki っぽい感じのこともできるようにしてみた。</p><p><a href="https://github.co.jp/features/actions">GitHub Actions</a> でデプロイしているんだけど、Next.js のビルドで警告が出ていた。</p><pre><code>warn  - No build cache found. Please configure build caching for faster rebuilds. Read more: https://err.sh/next.js/no-cache</code></pre><p>キャッシュしておいた方が良いみたいなので、しておく。</p><pre><code>uses: actions/cache@v2
with:
  path: ${{ github.workspace }}/.next/cache
  key: ${{ runner.os }}-nextjs-${{ hashFiles(&#x27;**/package-lock.json&#x27;) }}</code></pre><p>ついでに <code>yarn install</code> あたりも重そうなのでキャッシュする方法を調べた。</p><p><a href="https://dev.to/mpocock1/how-to-cache-nodemodules-in-github-actions-with-yarn-24eh">How to cache node_modules in GitHub Actions with Yarn</a> を参考にした。</p><pre><code>- uses: actions/cache@v2
  with:
    path: &#x27;**/node_modules&#x27;
    key: ${{ runner.os }}-modules-${{ hashFiles(&#x27;**/yarn.lock&#x27;) }}</code></pre><p>ちなみに、やってる内容はまったく意味が分かっていない。コピペしただけなんで。<a href="https://github.co.jp/features/actions">GitHub Actions</a> についても調べないといけないんだろうけど、また今度…</p></article><footer>© <!-- -->2021<!-- --> <!-- -->te9yie</footer></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"data":{"id":"2021-02-28","content":"ブログ形式でなく、ちょっとしたことを書いておくページが欲しいなと思い、Wiki っぽい感じのこともできるようにしてみた。\n\n[GitHub Actions][] でデプロイしているんだけど、Next.js のビルドで警告が出ていた。\n\n```\nwarn  - No build cache found. Please configure build caching for faster rebuilds. Read more: https://err.sh/next.js/no-cache\n```\n\nキャッシュしておいた方が良いみたいなので、しておく。\n\n```\nuses: actions/cache@v2\nwith:\n  path: ${{ github.workspace }}/.next/cache\n  key: ${{ runner.os }}-nextjs-${{ hashFiles('**/package-lock.json') }}\n```\n\nついでに `yarn install` あたりも重そうなのでキャッシュする方法を調べた。\n\n[How to cache node_modules in GitHub Actions with Yarn](https://dev.to/mpocock1/how-to-cache-nodemodules-in-github-actions-with-yarn-24eh) を参考にした。\n\n```\n- uses: actions/cache@v2\n  with:\n    path: '**/node_modules'\n    key: ${{ runner.os }}-modules-${{ hashFiles('**/yarn.lock') }}\n```\n\nちなみに、やってる内容はまったく意味が分かっていない。コピペしただけなんで。[GitHub Actions][] についても調べないといけないんだろうけど、また今度…\n\n[GitHub Actions]: https://github.co.jp/features/actions\n"}},"__N_SSG":true},"page":"/b/[id]","query":{"id":"2021-02-28"},"buildId":"BDTqw8_2yt_nO2XRfftf7","nextExport":false,"isFallback":false,"gsp":true}</script><script nomodule="" src="/_next/static/chunks/polyfills-4f4acd756cef4fe6da1b.js"></script><script src="/_next/static/chunks/main-1f0b73d383aed819e4f2.js" async=""></script><script src="/_next/static/chunks/webpack-50bee04d1dc61f8adf5b.js" async=""></script><script src="/_next/static/chunks/framework.29f9e2f3d4a33bafbaa5.js" async=""></script><script src="/_next/static/chunks/commons.3a16fc34825ffc7ba561.js" async=""></script><script src="/_next/static/chunks/pages/_app-ade6e51b5c04250850ce.js" async=""></script><script src="/_next/static/chunks/7ac61503aba6d10b58e3c266d97d99b7b5b3721a.c1b518faff21babf1a9f.js" async=""></script><script src="/_next/static/chunks/00cbe0eb025af1da8768e6eebd5e28fe8100b658.d21267665854b47491ea.js" async=""></script><script src="/_next/static/chunks/pages/b/%5Bid%5D-eaf8ebe7ceed852553b5.js" async=""></script><script src="/_next/static/BDTqw8_2yt_nO2XRfftf7/_buildManifest.js" async=""></script><script src="/_next/static/BDTqw8_2yt_nO2XRfftf7/_ssgManifest.js" async=""></script></body></html>